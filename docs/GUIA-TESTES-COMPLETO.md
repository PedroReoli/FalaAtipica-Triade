# üß™ Guia Completo de Testes - FalaAt√≠pica Triade

**Vers√£o:** 1.2.0  
**√öltima Atualiza√ß√£o:** 17 de Outubro de 2025

---

## üéØ **Objetivo**

Validar TODAS as funcionalidades implementadas para garantir que o sistema est√° 100% funcional antes da apresenta√ß√£o.

---

## üöÄ **Setup Inicial**

### **1. Iniciar Aplica√ß√µes**

```bash
# Terminal 1 - API
cd api
npm start
# Aguardar: ‚úÖ Servidor rodando em http://localhost:3001

# Terminal 2 - Kids
cd Kids
npm start
# Aguardar: App compilar e abrir

# Terminal 3 - Tutors
cd Tutors
npm start
# Aguardar: App compilar e abrir

# Terminal 4 - Pro
cd Pro
npm run dev
# Aguardar: App abrir em http://localhost:5173
```

### **2. Credenciais de Teste**

| App | Email | Senha |
|-----|-------|-------|
| Kids | `joao@kids.com` | `123456` |
| Tutors | `carlos@tutors.com` | `123456` |
| Pro | `carlos@pro.com` | `123456` |

---

## ‚úÖ **TESTES OBRIGAT√ìRIOS**

### **TESTE 1: Sistema de Lembretes (Kids)** üî¥ CR√çTICO

**Objetivo:** Verificar se lembretes aparecem e funcionam corretamente

**Passos:**
1. Kids: Login com `joao@kids.com` / `123456`
2. Kids: Verificar sino (üîî) no canto superior direito
3. Kids: Badge vermelho deve mostrar n√∫mero "3"
4. Kids: Clicar no sino
5. Kids: Deve abrir tela "Meus Lembretes"
6. Kids: Ver 3 lembretes na aba "Novos":
   - 1 com barra VERMELHA (urgente)
   - 1 com barra AMARELA (normal)
   - 1 com barra AZUL (baixa)
7. Kids: Clicar "Marcar como lido" no primeiro lembrete
8. Kids: Lembrete desaparece da lista "Novos"
9. Kids: Badge atualiza de "3" para "2"
10. Kids: Clicar em "Lidos (2)"
11. Kids: Ver 2 lembretes na aba "Lidos"

**‚úÖ Resultado Esperado:**
- Badge funciona corretamente
- Lembretes aparecem com cores corretas
- Marcar como lido funciona
- Tabs (Novos/Lidos) funcionam

**‚ùå Se Falhar:**
- Verificar arquivo: `Kids/mockup-data/reminders.json` existe
- Ver console do Kids para erros
- Ver console da API para logs

---

### **TESTE 2: Notifica√ß√µes em Tempo Real (Kids ‚Üí Tutors)** üî¥ CR√çTICO

**Objetivo:** Verificar se toast aparece instantaneamente no Tutors quando crian√ßa joga

**Passos:**
1. Tutors: Login com `carlos@tutors.com` / `123456`
2. Tutors: Dashboard mostra "Ol√°, Carlos Silva"
3. Tutors: Ver 2 cards de crian√ßas (Jo√£o e Lucas)
4. Tutors: **Deixar na Dashboard** (N√ÉO trocar de tela)
5. Kids: Voltar para Dashboard (Home)
6. Kids: Escolher "JOGO DAS PALAVRAS"
7. Kids: Completar o jogo (qualquer pontua√ß√£o)
8. Kids: Clicar em "Voltar para Home"
9. **Tutors: Toast verde deve aparecer:**
   - "üéâ Jo√£o Silva completou Jogo das Palavras com X% de acertos!"
10. API Console: Ver log:
   ```
   üéÆ Progresso salvo: Jo√£o Silva - palavras - X%
   üì° Eventos emitidos: progress-updated, child-game-completed, patient-game-completed
   ```

**‚úÖ Resultado Esperado:**
- Toast aparece INSTANTANEAMENTE no Tutors
- Sem necessidade de recarregar
- Badge atualiza automaticamente

**‚ùå Se Falhar:**
- Verificar se Socket.IO conectou (console: "‚úÖ WebSocket conectado")
- Reiniciar Kids e Tutors
- Ver console da API para erros

---

### **TESTE 3: Progresso por Jogo em Tempo Real (Tutors)** üî¥ CR√çTICO

**Objetivo:** Verificar se cards de jogos atualizam automaticamente (SEM Pull to Refresh)

**Passos:**
1. Tutors: Ir para "Progresso"
2. Tutors: Ver 4 cards de jogos:
   - Igual-Diferente
   - Cena Certa
   - Adivinha
   - Jogo das Palavras
3. Tutors: Anotar estat√≠sticas atuais do "Jogo das Palavras"
4. **Tutors: DEIXAR na tela de Progresso**
5. Kids: Escolher "JOGO DAS PALAVRAS"
6. Kids: Completar o jogo com 100%
7. Kids: Voltar para Home
8. **Tutors: Card "Jogo das Palavras" deve ATUALIZAR AUTOMATICAMENTE**
   - Novas estat√≠sticas (m√©dia, melhor, sess√µes)
   - **SEM arrastar para baixo**
   - **SEM recarregar p√°gina**

**‚úÖ Resultado Esperado:**
- Card do jogo atualiza sozinho
- Estat√≠sticas gerais tamb√©m atualizam
- Sem necessidade de Pull to Refresh

**‚ùå Se Falhar:**
- Ver console do Tutors (deve mostrar: "üéÆ Card do jogo 'Jogo das Palavras' ser√° atualizado automaticamente")
- Ver console da API
- Reiniciar Tutors

---

### **TESTE 4: Sistema de Parcerias (Pro)** üî¥ CR√çTICO

**Objetivo:** Verificar se sistema de token funciona corretamente

#### **Parte A: Gerar Token**

**Passos:**
1. Pro: Ir para "Configura√ß√µes"
2. Pro: Clicar em "Gerar Token de Parceria"
3. Pro: Modal abre com token gerado (formato: `PARCERIA_xxxxxxxxx`)
4. Pro: Clicar em "Copiar Token"
5. Pro: Bot√£o muda para "Copiado!" (verde)
6. Pro: Token est√° na √°rea de transfer√™ncia
7. API Console: Ver log: `üîó Token de parceria gerado: PARCERIA_xxx por Carlos Silva`

**‚úÖ Resultado Esperado:**
- Token gerado corretamente
- Modal bonito e funcional
- Bot√£o de copiar funciona
- Token tem formato correto

#### **Parte B: Reivindicar Token (Simular)**

**Nota:** Como s√≥ temos 1 usu√°rio Pro mockado, vamos testar a valida√ß√£o

**Passos:**
1. Pro: Clicar em "Reivindicar Parceria"
2. Pro: Colar o token gerado
3. Pro: Clicar em "Reivindicar"
4. Pro: Deve aparecer erro: "Voc√™ n√£o pode fazer parceria consigo mesmo"

**‚úÖ Resultado Esperado:**
- Valida√ß√£o funciona
- Mensagem de erro aparece
- N√£o cria parceria inv√°lida

#### **Parte C: Token Inv√°lido**

**Passos:**
1. Pro: Clicar em "Reivindicar Parceria"
2. Pro: Digitar: `PARCERIA_invalido123`
3. Pro: Clicar em "Reivindicar"
4. Pro: Deve aparecer erro: "Token inv√°lido ou n√£o encontrado"

**‚úÖ Resultado Esperado:**
- Valida√ß√£o funciona
- Token inv√°lido n√£o cria parceria

---

### **TESTE 5: Agendas Unificadas (Tutors)** üü° IMPORTANTE

**Objetivo:** Verificar se agendas aparecem e filtros funcionam

**Passos:**
1. Tutors: Clicar em "Agenda"
2. Tutors: Ver selector de crian√ßa no topo (‚Üê Jo√£o Silva ‚Üí)
3. Tutors: Ver bot√µes: Todas / Agendadas / Confirmadas / Conclu√≠das
4. Tutors: Ver lista de consultas
5. Tutors: Cada consulta mostra:
   - Data e hor√°rio
   - Profissional
   - Status (badge colorido)
6. Tutors: Clicar em uma consulta
7. Tutors: Card expande mostrando detalhes completos
8. Tutors: Clicar em "Agendadas"
9. Tutors: Lista filtra mostrando apenas agendadas
10. Tutors: Trocar de crian√ßa (clicar ‚Üí)
11. Tutors: Agendas atualizam para a nova crian√ßa

**‚úÖ Resultado Esperado:**
- Agendas aparecem corretamente
- Filtros funcionam
- Cards expandem/fecham
- Selector de crian√ßa funciona

---

### **TESTE 6: Contexto de Paciente (Pro)** üî¥ CR√çTICO

**Objetivo:** Verificar se campo de paciente vem preenchido ao criar sess√£o de um paciente espec√≠fico

**Passos:**
1. Pro: Ir para "Pacientes"
2. Pro: Clicar em qualquer paciente (ex: Jo√£o Silva)
3. Pro: Clicar na aba "Sess√µes"
4. Pro: Clicar em "Nova Sess√£o"
5. Pro: Verificar campo "Paciente":
   - ‚úÖ Deve estar PREENCHIDO com "Jo√£o Silva"
   - ‚úÖ Deve mostrar avatar circular com iniciais "JS"
   - ‚úÖ Deve ter badge "Selecionado automaticamente"
   - ‚úÖ Deve estar BLOQUEADO (fundo cinza, n√£o edit√°vel)
6. Pro: Preencher data, hora, observa√ß√µes
7. Pro: Salvar sess√£o

**‚úÖ Resultado Esperado:**
- Campo vem preenchido e bloqueado
- Avatar e badge aparecem
- N√£o permite selecionar outro paciente

**‚ùå Se Falhar:**
- Ver console do Pro para erros
- Verificar se `navigate` est√° passando `state`
- Ver imports do `useLocation`

---

### **TESTE 7: Fallback Offline** üü¢ SECUND√ÅRIO

**Objetivo:** Verificar se apps funcionam offline

**Passos:**
1. Terminal 1 (API): Pressionar Ctrl+C (parar API)
2. Kids: Clicar no sino de notifica√ß√µes
3. Kids: Lembretes AINDA aparecem (dados mockados)
4. Kids Console: Ver log:
   ```
   ‚ö†Ô∏è API erro - usando dados mockados locais
   ‚úÖ Lembretes carregados do mockup: 3 n√£o lidos
   ```
5. Tutors: Ir para "Agenda"
6. Tutors: Agendas AINDA aparecem (dados mockados)
7. Tutors Console: Ver log:
   ```
   ‚ö†Ô∏è API erro - usando dados mockados do perfil
   ‚úÖ Agendas mockadas carregadas: 2
   ```

**‚úÖ Resultado Esperado:**
- Apps funcionam 100% offline
- Dados mockados s√£o carregados
- Logs informativos aparecem

---

## üìä **Resumo de Resultados**

Preencha ap√≥s os testes:

| # | Teste | Status | Observa√ß√µes |
|---|-------|--------|-------------|
| 1 | Lembretes (Kids) | ‚¨ú OK / ‚¨ú FALHOU | |
| 2 | Notifica√ß√µes Tempo Real | ‚¨ú OK / ‚¨ú FALHOU | |
| 3 | Progresso por Jogo | ‚¨ú OK / ‚¨ú FALHOU | |
| 4 | Sistema de Parcerias | ‚¨ú OK / ‚¨ú FALHOU | |
| 5 | Agendas Unificadas | ‚¨ú OK / ‚¨ú FALHOU | |
| 6 | Contexto de Paciente | ‚¨ú OK / ‚¨ú FALHOU | |
| 7 | Fallback Offline | ‚¨ú OK / ‚¨ú FALHOU | |

**Total Aprovado:** ___/7

---

## üêõ **Troubleshooting**

### **Badge n√£o aparece no Kids:**
```bash
# Verificar arquivo
ls Kids/mockup-data/reminders.json

# Se n√£o existir, copiar:
copy Mockup\shared\reminders.json Kids\mockup-data\reminders.json
```

### **Toast n√£o aparece no Tutors:**
- Reiniciar Kids (Ctrl+C e `npm start`)
- Reiniciar Tutors (Ctrl+C e `npm start`)
- Verificar se API est√° rodando
- Ver console para erros de Socket.IO

### **Progresso n√£o atualiza automaticamente:**
- Ver console do Tutors (buscar por "üìä Progresso atualizado em tempo real")
- Ver console da API (buscar por "üì° Eventos emitidos")
- Reiniciar Tutors

### **Parcerias n√£o funcionam:**
- Verificar se API est√° rodando
- Ver console da API (buscar por "üîó Token de parceria gerado")
- Ver console do Pro para erros

---

## ‚úÖ **Crit√©rio de Aprova√ß√£o**

Para considerar o sistema APROVADO:

**OBRIGAT√ìRIO (n√£o pode falhar):**
- ‚úÖ Teste 1 (Lembretes)
- ‚úÖ Teste 2 (Notifica√ß√µes Tempo Real)
- ‚úÖ Teste 3 (Progresso por Jogo)
- ‚úÖ Teste 4 (Sistema de Parcerias)
- ‚úÖ Teste 6 (Contexto de Paciente)

**IMPORTANTE (deve funcionar):**
- ‚úÖ Teste 5 (Agendas)

**DESEJ√ÅVEL (bom ter):**
- ‚úÖ Teste 7 (Fallback)

---

## üéØ **Pr√≥ximos Passos**

### **Se TUDO PASSOU (‚úÖ):**
1. ‚úÖ Fazer commit final
2. ‚úÖ Documentar no README
3. ‚úÖ Preparar apresenta√ß√£o

### **Se ALGO FALHOU (‚ùå):**
1. ‚ùå Anotar qual teste falhou
2. ‚ùå Ver troubleshooting acima
3. ‚ùå Verificar logs (API, Kids, Tutors, Pro)
4. ‚ùå Corrigir e testar novamente
5. ‚ùå N√£o seguir adiante at√© corrigir

---

**üéâ BOA SORTE NOS TESTES! üéâ**

